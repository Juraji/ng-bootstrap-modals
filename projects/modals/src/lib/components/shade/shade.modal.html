<div class="modal-body">
  <p [innerHTML]="message | async"></p>

  <ng-container *ngIf="progress | async as p">
    <ng-container [ngSwitch]="p.state">
      <div class="progress" *ngSwitchCase="'running'">
        <div class="progress-bar rounded"
             role="progressbar"
             [style.width]="p.width"
             [attr.aria-valuenow]="p.value"
             aria-valuemin="0"
             aria-valuemax="100"
        ></div>
      </div>
      <div class="progress" *ngSwitchCase="'indefinite'">
        <div class="progress-bar w-100 progress-bar-striped progress-bar-animated rounded"
             role="progressbar"
             aria-valuenow="0"
             aria-valuemin="0"
             aria-valuemax="100"
        ></div>
      </div>
    </ng-container>
  </ng-container>
</div>
